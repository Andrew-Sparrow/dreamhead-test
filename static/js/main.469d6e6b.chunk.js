(this["webpackJsonpdreamhead-test"]=this["webpackJsonpdreamhead-test"]||[]).push([[0],{41:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(15),i=a.n(s),r=(a(41),a(4)),o=a(11),l=a(31),u=a.n(l),d=null!==localStorage.getItem("token")?localStorage.getItem("token"):"",j=a(3),b="/",m=["All","Favorites","Family","Work"],p="/hotels",h=a(14),O=a(1);var f=function(e){var t=e.children,a=e.className;return Object(O.jsxs)("div",{className:a,children:[Object(O.jsx)("header",{className:"header",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"header__wrapper",children:Object(O.jsx)("div",{className:"header__left",children:Object(O.jsx)("h2",{children:"Contacts"})})})})}),t]})},v=function(e,t){return function(a){return Object(O.jsx)(f,{className:t,children:Object(O.jsx)(e,Object(h.a)({},a))})}};v.displayName="withLayout";var x=v,_=a(21),g="contacts/changeGroup",y="contacts/loadContacts",N="places/removeNearbyPlaces",C="places/isFavorite",F="comments/loadComments",P="comments/removeComments",w="user/changeLogin",k="user/logout",S="comment/changeLoadingCommentProcessStatus",L="comment/showErrorCommentFormMessage",T="comment/changeCommentSendedSuccessfulyStatus",D="places/resetFavorites",A="places/redirectToRoute",I=(Object(r.b)(S,(function(e){return{payload:e}})),Object(r.b)(T,(function(e){return{payload:e}})),Object(r.b)(L,(function(e,t){return{payload:{isShowErrorMessage:e,errorMessageText:t}}})),Object(r.b)(g,(function(e){return{payload:e}}))),G=Object(r.b)(y,(function(e){return{payload:e}})),U=Object(r.b)(N),M=(Object(r.b)(F,(function(e){return{payload:e}})),Object(r.b)(P),Object(r.b)(w,(function(e){return{payload:e}})),Object(r.b)(C,(function(e,t){return{payload:{id:e,newPlace:t}}}))),E=(Object(r.b)(k),Object(r.b)(D,(function(e){return{payload:e}}))),B=(Object(r.b)(A,(function(e){return{payload:e}})),a(17)),J=a(10),R=a(36),W=a(32),K=a(33),q=a(34),z=a.n(q),H=function(){function e(){Object(W.a)(this,e)}return Object(K.a)(e,null,[{key:"adaptToClient",value:function(e){var t=Object.assign({},e,{host:Object.assign({},e.host,{avatarUrl:e.host.avatar_url,isPro:e.host.is_pro}),isFavorite:e.is_favorite,isPremium:e.is_premium,maxAdults:e.max_adults,previewImage:e.preview_image});return delete t.host.avatar_url,delete t.host.is_pro,delete t.is_favorite,delete t.is_premium,delete t.max_adults,delete t.preview_image,t}},{key:"adaptPlacesToClient",value:function(e){var t=this;return e.map((function(e){return t.adaptToClient(e)}))}},{key:"getFilteredPlaces",value:function(e,t){return t.filter((function(t){return t.city.name===e}))}},{key:"generateIdKeys",value:function(e){return new Array(e).fill("").map((function(){return z()(10)}))}},{key:"getUpdatedPlaces",value:function(e,t,a){var c=Object(R.a)(t),n=c.findIndex((function(t){return t.id===e}));return c[n].isFavorite=a.isFavorite,c}},{key:"resetFavoriteStates",value:function(e){return e.map((function(e){return e=Object(h.a)(Object(h.a)({},e),{},{isFavorite:!1})}))}}]),e}();H.formatDate=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short"})};var Q=H,V=Object(r.c)({places:[],isDataLoaded:!1,activeGroupName:"All"},(function(e){e.addCase(I,(function(e,t){e.activeGroupName=t.payload})).addCase(G,(function(e,t){e.places=t.payload,e.isDataLoaded=!0})).addCase(U,(function(e){e.nearbyPlaces=[],e.isNearbyPlacesLoaded=!1})).addCase(M,(function(e,t){e.places=Q.getUpdatedPlaces(t.payload.id,e.places,t.payload.newPlace)})).addCase(E,(function(e,t){e.places=Q.resetFavoriteStates(t.payload)}))})),X="CONTACTS",Y=Object(J.b)(Object(B.a)({},X,V)),Z=function(e){return e[X].places},$=function(e){return e[X].isDataLoaded},ee=function(e){return e[X].activeGroupName};var te=function(e){var t=Object(o.c)(ee),a=Object(o.b)(),c=function(e){e.preventDefault(),a(I(e.currentTarget.dataset.city))};return Object(O.jsx)("div",{className:"tabs",children:Object(O.jsx)("section",{className:"locations container",children:Object(O.jsx)("ul",{className:"locations__list tabs__list",children:m.map((function(e){return Object(O.jsx)("li",{className:"locations__item",children:Object(O.jsx)(_.a,{"data-city":e,className:"locations__item-link tabs__item ".concat(e===t&&"tabs__item--active"),to:"#",onClick:c,children:Object(O.jsx)("span",{children:e})})},e)}))})})})};var ae=function(e){var t=e.activeGroupName;return Object(O.jsx)("div",{className:"cities",children:Object(O.jsxs)("div",{className:"cities__places-container cities__places-container--empty container",children:[Object(O.jsx)("section",{className:"cities__no-places",children:Object(O.jsxs)("div",{className:"cities__status-wrapper tabs__content",children:[Object(O.jsx)("b",{className:"cities__status",children:"No contacts available"}),Object(O.jsxs)("p",{className:"cities__status-description",children:['We could not find any contacts available at the moment in "',t,'" group']})]})}),Object(O.jsx)("div",{className:"cities__right-section"})]})})};var ce=x((function(){var e=Object(o.c)(ee),t=Object(o.c)(Z),a=Q.getFilteredPlaces(e,t);return Object(O.jsxs)("main",{className:"page__main page__main--index",children:[Object(O.jsx)("h1",{className:"visually-hidden",children:"Cities"}),Object(O.jsx)(te,{}),0===a.length?Object(O.jsx)(ae,{activeGroupName:e}):Object(O.jsx)("div",{className:"cities",children:Object(O.jsx)("div",{className:"cities__places-container container",children:Object(O.jsxs)("section",{className:"cities__places places",children:[Object(O.jsx)("h2",{className:"visually-hidden",children:"Contacts"}),Object(O.jsxs)("b",{className:"places__found",children:[a.length," places to stay in ",e]})]})})})]})}));var ne=x((function(){return Object(O.jsxs)("div",{style:{margin:"auto",width:"200px"},children:[Object(O.jsx)("h1",{style:{textAlign:"center"},children:"404"}),Object(O.jsx)("h2",{children:"Page Not Found"})]})}));var se=function(){return Object(O.jsx)("p",{children:"Loading..."})},ie=a(5),re=Object(ie.a)();var oe=function(){return Object(o.c)($)?Object(O.jsx)(j.b,{history:re,children:Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{exact:!0,path:b,children:Object(O.jsx)(ce,{className:"page page--gray page--index"})}),Object(O.jsx)(j.a,{children:Object(O.jsx)(ne,{})})]})}):Object(O.jsx)(se,{})},le=function(e){return function(e){return function(t){return t.type===A&&re.push(t.payload),e(t)}}},ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),s(e),i(e)}))},de=function(){var e=u.a.create({baseURL:"https://7.react.pages.academy/six-cities",timeout:5e3,headers:{"x-token":d}});return e.interceptors.response.use((function(e){return e}),(function(){})),e}(),je=Object(r.a)({reducer:Y,middleware:function(e){return e({thunk:{extraArgument:de}}).concat(le)}});je.dispatch((function(e,t,a){return a.get(p).then((function(t){var a=t.data,c=Q.adaptPlacesToClient(a);e(G(c))})).catch((function(e){}))})),i.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(o.a,{store:je,children:Object(O.jsx)(oe,{})})}),document.getElementById("root")),ue()}},[[67,1,2]]]);
//# sourceMappingURL=main.469d6e6b.chunk.js.map