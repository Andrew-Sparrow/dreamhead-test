(this["webpackJsonpdreamhead-test"]=this["webpackJsonpdreamhead-test"]||[]).push([[0],{46:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var c=t(0),n=t.n(c),s=t(16),i=t.n(s),r=(t(46),t(12)),l=t(11),o=t(34),d=t.n(o),u=null!==localStorage.getItem("token")?localStorage.getItem("token"):"",j=t(20),m=t(3),p="/",b=["All","Favorites","Family","Work"],h="All",O="/contacts",g=t(40),_=t(13),v=t(1);var f=function(e){var a=e.id,t=e.name,c=e.lastName,n=e.group,s=e.phone,i=e.email,r=e.avatar;return Object(v.jsxs)("li",{className:"contact",id:a,children:[Object(v.jsx)("img",{className:"contact__left",src:null===r?"https://iupac.org/wp-content/uploads/2018/05/default-avatar.png":r,alt:"avatar"}),Object(v.jsxs)("div",{className:"contact__right",children:[Object(v.jsxs)("p",{className:"contact__data",children:["Name: ",Object(v.jsx)("span",{className:"contact__name",children:t})]}),Object(v.jsxs)("p",{className:"contact__data",children:["Last Name: ",Object(v.jsx)("span",{className:"contact__name",children:c})]}),Object(v.jsxs)("p",{className:"contact__data",children:["Group: ",Object(v.jsx)("span",{className:"contact__name",children:n})]}),Object(v.jsxs)("p",{className:"contact__data",children:["Phone: ",Object(v.jsx)("span",{className:"contact__name",children:s})]}),Object(v.jsxs)("p",{className:"contact__data",children:["Email: ",Object(v.jsx)("span",{className:"contact__name",children:i})]})]})]})},x=t(4),N=t.n(x),y=(N.a.shape({id:N.a.number.isRequired,name:N.a.string.isRequired,lastName:N.a.string.isRequired,phone:N.a.string,email:N.a.string,avatar:N.a.oneOfType([N.a.string,N.a.oneOf([null])]),group:N.a.oneOfType([N.a.string,N.a.oneOf([null])])}),t(35)),C=t.n(y),k=function(e){var a=e.pageCount,t=e.onPageNumberClick,c=e.forcePage;return Object(v.jsx)(C.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:a,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:t,containerClassName:"pagination",activeClassName:"active",forcePage:c})},P="";var w=function(e){var a=e.items,t=e.initialPageNumber,n=e.activeTabName,s=a.slice(0,3),i=Math.ceil(a.length/3),r=s,l=Object(c.useReducer)((function(e,a){switch(a.type){case"changePageNumber":return Object(_.a)(Object(_.a)({},e),{},{pageNumber:a.payload});case"changeSlicedItems":return Object(_.a)(Object(_.a)({},e),{},{slicedItems:a.payload});default:throw new Error}}),t,(function(e){return{pageNumber:e,slicedItems:r}})),o=Object(g.a)(l,2),d=o[0],u=o[1];return Object(c.useEffect)((function(){P!==n&&(u({type:"changeSlicedItems",payload:[]}),u({type:"changeSlicedItems",payload:r}),u({type:"changePageNumber",payload:0})),P=n}),[n,r]),Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)("ul",{className:"cities__places-list places__list tabs__content",children:d.slicedItems.map((function(e){return Object(v.jsx)(f,{id:e.id,name:e.name,lastName:e.lastName,group:e.group,phone:e.phone,email:e.email,avatar:e.avatar},e.id)}))}),a.length>3&&Object(v.jsx)(k,{pageCount:i,onPageNumberClick:function(e){var t=Math.ceil(3*e.selected);r=a.slice(t,t+3),u({type:"changePageNumber",payload:e.selected}),u({type:"changeSlicedItems",payload:r})},forcePage:d.pageNumber})]})};var F=function(e){var a=e.children,t=e.className;return Object(v.jsxs)("div",{className:t,children:[Object(v.jsx)("header",{className:"header",children:Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"header__wrapper",children:Object(v.jsx)("div",{className:"header__left",children:Object(v.jsx)("h2",{className:"header__title",children:"Contacts"})})})})}),a]})},I=function(e,a){return function(t){return Object(v.jsx)(F,{className:a,children:Object(v.jsx)(e,Object(_.a)({},t))})}};I.displayName="withLayout";var L=I,T="contacts/changeGroup",S="contacts/loadContacts",D="places/isFavorite",A="places/redirectToRoute",G=Object(r.b)(T,(function(e){return{payload:e}})),R=Object(r.b)(S,(function(e){return{payload:e}})),U=Object(r.b)(D,(function(e,a){return{payload:{id:e,newPlace:a}}})),E=(Object(r.b)(A,(function(e){return{payload:e}})),t(19)),q=t(10),M=t(41),B=t(36),J=t(37),W=t(38),K=t.n(W),z=function(){function e(){Object(B.a)(this,e)}return Object(J.a)(e,null,[{key:"adaptToClient",value:function(e){var a=Object.assign({},e,{host:Object.assign({},e.host,{avatarUrl:e.host.avatar_url,isPro:e.host.is_pro}),isFavorite:e.is_favorite,isPremium:e.is_premium,maxAdults:e.max_adults,previewImage:e.preview_image});return delete a.host.avatar_url,delete a.host.is_pro,delete a.is_favorite,delete a.is_premium,delete a.max_adults,delete a.preview_image,a}},{key:"adaptPlacesToClient",value:function(e){var a=this;return e.map((function(e){return a.adaptToClient(e)}))}},{key:"getFilteredContacts",value:function(e,a){return e===h?a:a.filter((function(a){return a.group===e}))}},{key:"generateIdKeys",value:function(e){return new Array(e).fill("").map((function(){return K()(10)}))}},{key:"getUpdatedContacts",value:function(e,a,t){var c=Object(M.a)(a),n=c.findIndex((function(a){return a.id===e}));return c[n].isFavorite=t.isFavorite,c}}]),e}();z.formatDate=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short"})};var H=z,Q=Object(r.c)({contacts:[],isDataLoaded:!1,activeGroupName:"All"},(function(e){e.addCase(G,(function(e,a){e.activeGroupName=a.payload})).addCase(R,(function(e,a){e.contacts=a.payload,e.isDataLoaded=!0})).addCase(U,(function(e,a){e.places=H.getUpdatedContacts(a.payload.id,e.places,a.payload.newPlace)}))})),V="CONTACTS",X=Object(q.b)(Object(E.a)({},V,Q)),Y=function(e){return e[V].contacts},Z=function(e){return e[V].isDataLoaded},$=function(e){return e[V].activeGroupName};var ee=function(e){var a=Object(l.c)($),t=Object(l.b)(),c=function(e){e.preventDefault(),t(G(e.currentTarget.dataset.city))};return Object(v.jsx)("div",{className:"tabs",children:Object(v.jsx)("section",{className:"locations container",children:Object(v.jsx)("ul",{className:"locations__list tabs__list",children:b.map((function(e){return Object(v.jsx)("li",{className:"locations__item",children:Object(v.jsx)(j.b,{"data-city":e,className:"locations__item-link tabs__item ".concat(e===a&&"tabs__item--active"),to:"#",onClick:c,children:Object(v.jsx)("span",{children:e})})},e)}))})})})};var ae=function(e){var a=e.activeGroupName;return Object(v.jsx)("div",{className:"cities",children:Object(v.jsxs)("div",{className:"cities__places-container cities__places-container--empty container",children:[Object(v.jsx)("section",{className:"cities__no-places",children:Object(v.jsxs)("div",{className:"cities__status-wrapper tabs__content",children:[Object(v.jsx)("b",{className:"cities__status",children:"No contacts available"}),Object(v.jsxs)("p",{className:"cities__status-description",children:['We could not find any contacts available at the moment in "',a,'" group']})]})}),Object(v.jsx)("div",{className:"cities__right-section"})]})})};var te=L((function(){var e=Object(l.c)($),a=Object(l.c)(Y),t=H.getFilteredContacts(e,a);return Object(v.jsxs)("main",{className:"page__main page__main--index",children:[Object(v.jsx)("h1",{className:"visually-hidden",children:"Cities"}),Object(v.jsx)(ee,{}),0===t.length?Object(v.jsx)(ae,{activeGroupName:e}):Object(v.jsx)("div",{className:"cities",children:Object(v.jsx)("div",{className:"cities__places-container container",children:Object(v.jsxs)("section",{className:"cities__places places",children:[Object(v.jsx)("h2",{className:"visually-hidden",children:"Contacts"}),Object(v.jsxs)("b",{className:"places__found",children:[t.length," contacts in `",e,"` group"]}),Object(v.jsx)(w,{items:t,initialPageNumber:0,activeTabName:e})]})})})]})}));var ce=L((function(){return Object(v.jsxs)("div",{style:{margin:"auto",width:"200px"},children:[Object(v.jsx)("h1",{style:{textAlign:"center"},children:"404"}),Object(v.jsx)("h2",{children:"Page Not Found"})]})}));var ne=function(){return Object(v.jsx)("p",{className:"loading",children:"Loading..."})};var se=function(){return Object(l.c)(Z)?Object(v.jsx)(j.a,{children:Object(v.jsxs)(m.c,{children:[Object(v.jsx)(m.a,{exact:!0,path:p,children:Object(v.jsx)(te,{className:"page page--gray page--index"})}),Object(v.jsx)(m.a,{children:Object(v.jsx)(ce,{})})]})}):Object(v.jsx)(ne,{})},ie=t(5),re=Object(ie.a)(),le=function(e){return function(e){return function(a){return a.type===A&&re.push(a.payload),e(a)}}},oe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,72)).then((function(a){var t=a.getCLS,c=a.getFID,n=a.getFCP,s=a.getLCP,i=a.getTTFB;t(e),c(e),n(e),s(e),i(e)}))},de=function(){var e=d.a.create({baseURL:"https://heroku-dreamhead-api.herokuapp.com",timeout:5e3,headers:{"x-token":u}});return e.interceptors.response.use((function(e){return e}),(function(){})),e}(),ue=Object(r.a)({reducer:X,middleware:function(e){return e({thunk:{extraArgument:de}}).concat(le)}});ue.dispatch((function(e,a,t){return t.get(O).then((function(a){var t=a.data;e(R(t))})).catch((function(e){}))})),i.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(l.a,{store:ue,children:Object(v.jsx)(se,{})})}),document.getElementById("root")),oe()}},[[71,1,2]]]);
//# sourceMappingURL=main.ea2a8767.chunk.js.map