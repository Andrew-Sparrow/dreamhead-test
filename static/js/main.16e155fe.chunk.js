(this["webpackJsonpdreamhead-test"]=this["webpackJsonpdreamhead-test"]||[]).push([[0],{41:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(15),s=a.n(i),r=(a(41),a(4)),o=a(12),l=a(31),u=a.n(l),d=null!==localStorage.getItem("token")?localStorage.getItem("token"):"",j=a(3),b="/",m=["All","Favorites","Family","Work"],p="All",h="/contacts",O=a(1);var v=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:"room"})})},f=a(5),x=a.n(f);x.a.shape({id:x.a.number.isRequired,name:x.a.string.isRequired,lastName:x.a.string.isRequired,phone:x.a.string,email:x.a.string,group:x.a.oneOfType([x.a.string,x.a.oneOf([null])])});var g=function(e){var t=e.contacts,a=e.onListItemHover;return Object(O.jsx)("div",{className:"cities__places-list places__list tabs__content",children:t.map((function(e){return Object(O.jsx)(v,{id:e.id,price:e.price,onListItemHover:a,title:e.title,isPremium:e.isPremium,isFavorite:e.isFavorite,type:e.type,rating:e.rating,previewImage:e.previewImage},e.id)}))})},_=a(14);var y=function(e){var t=e.children,a=e.className;return Object(O.jsxs)("div",{className:a,children:[Object(O.jsx)("header",{className:"header",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"header__wrapper",children:Object(O.jsx)("div",{className:"header__left",children:Object(O.jsx)("h2",{children:"Contacts"})})})})}),t]})},N=function(e,t){return function(a){return Object(O.jsx)(y,{className:t,children:Object(O.jsx)(e,Object(_.a)({},a))})}};N.displayName="withLayout";var C=N,F=a(21),w="contacts/changeGroup",k="contacts/loadContacts",P="places/removeNearbyPlaces",L="places/isFavorite",S="comments/loadComments",I="comments/removeComments",T="user/changeLogin",A="user/logout",D="comment/changeLoadingCommentProcessStatus",G="comment/showErrorCommentFormMessage",R="comment/changeCommentSendedSuccessfulyStatus",U="places/resetFavorites",M="places/redirectToRoute",q=(Object(r.b)(D,(function(e){return{payload:e}})),Object(r.b)(R,(function(e){return{payload:e}})),Object(r.b)(G,(function(e,t){return{payload:{isShowErrorMessage:e,errorMessageText:t}}})),Object(r.b)(w,(function(e){return{payload:e}}))),E=Object(r.b)(k,(function(e){return{payload:e}})),B=Object(r.b)(P),H=(Object(r.b)(S,(function(e){return{payload:e}})),Object(r.b)(I),Object(r.b)(T,(function(e){return{payload:e}})),Object(r.b)(L,(function(e,t){return{payload:{id:e,newPlace:t}}}))),J=(Object(r.b)(A),Object(r.b)(U,(function(e){return{payload:e}}))),W=(Object(r.b)(M,(function(e){return{payload:e}})),a(17)),K=a(11),z=a(36),Q=a(32),V=a(33),X=a(34),Y=a.n(X),Z=function(){function e(){Object(Q.a)(this,e)}return Object(V.a)(e,null,[{key:"adaptToClient",value:function(e){var t=Object.assign({},e,{host:Object.assign({},e.host,{avatarUrl:e.host.avatar_url,isPro:e.host.is_pro}),isFavorite:e.is_favorite,isPremium:e.is_premium,maxAdults:e.max_adults,previewImage:e.preview_image});return delete t.host.avatar_url,delete t.host.is_pro,delete t.is_favorite,delete t.is_premium,delete t.max_adults,delete t.preview_image,t}},{key:"adaptPlacesToClient",value:function(e){var t=this;return e.map((function(e){return t.adaptToClient(e)}))}},{key:"getFilteredContacts",value:function(e,t){return e===p?t:t.filter((function(t){return t.group===e}))}},{key:"generateIdKeys",value:function(e){return new Array(e).fill("").map((function(){return Y()(10)}))}},{key:"getUpdatedPlaces",value:function(e,t,a){var n=Object(z.a)(t),c=n.findIndex((function(t){return t.id===e}));return n[c].isFavorite=a.isFavorite,n}},{key:"resetFavoriteStates",value:function(e){return e.map((function(e){return e=Object(_.a)(Object(_.a)({},e),{},{isFavorite:!1})}))}}]),e}();Z.formatDate=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short"})};var $=Z,ee=Object(r.c)({contacts:[],isDataLoaded:!1,activeGroupName:"All"},(function(e){e.addCase(q,(function(e,t){e.activeGroupName=t.payload})).addCase(E,(function(e,t){e.contacts=t.payload,e.isDataLoaded=!0})).addCase(B,(function(e){e.nearbyPlaces=[],e.isNearbyPlacesLoaded=!1})).addCase(H,(function(e,t){e.places=$.getUpdatedPlaces(t.payload.id,e.places,t.payload.newPlace)})).addCase(J,(function(e,t){e.places=$.resetFavoriteStates(t.payload)}))})),te="CONTACTS",ae=Object(K.b)(Object(W.a)({},te,ee)),ne=function(e){return e[te].contacts},ce=function(e){return e[te].isDataLoaded},ie=function(e){return e[te].activeGroupName};var se=function(e){var t=Object(o.c)(ie),a=Object(o.b)(),n=function(e){e.preventDefault(),a(q(e.currentTarget.dataset.city))};return Object(O.jsx)("div",{className:"tabs",children:Object(O.jsx)("section",{className:"locations container",children:Object(O.jsx)("ul",{className:"locations__list tabs__list",children:m.map((function(e){return Object(O.jsx)("li",{className:"locations__item",children:Object(O.jsx)(F.a,{"data-city":e,className:"locations__item-link tabs__item ".concat(e===t&&"tabs__item--active"),to:"#",onClick:n,children:Object(O.jsx)("span",{children:e})})},e)}))})})})};var re=function(e){var t=e.activeGroupName;return Object(O.jsx)("div",{className:"cities",children:Object(O.jsxs)("div",{className:"cities__places-container cities__places-container--empty container",children:[Object(O.jsx)("section",{className:"cities__no-places",children:Object(O.jsxs)("div",{className:"cities__status-wrapper tabs__content",children:[Object(O.jsx)("b",{className:"cities__status",children:"No contacts available"}),Object(O.jsxs)("p",{className:"cities__status-description",children:['We could not find any contacts available at the moment in "',t,'" group']})]})}),Object(O.jsx)("div",{className:"cities__right-section"})]})})};var oe=C((function(){var e=Object(o.c)(ie),t=Object(o.c)(ne),a=$.getFilteredContacts(e,t);return Object(O.jsxs)("main",{className:"page__main page__main--index",children:[Object(O.jsx)("h1",{className:"visually-hidden",children:"Cities"}),Object(O.jsx)(se,{}),0===a.length?Object(O.jsx)(re,{activeGroupName:e}):Object(O.jsx)("div",{className:"cities",children:Object(O.jsx)("div",{className:"cities__places-container container",children:Object(O.jsxs)("section",{className:"cities__places places",children:[Object(O.jsx)("h2",{className:"visually-hidden",children:"Contacts"}),Object(O.jsxs)("b",{className:"places__found",children:[a.length," contacts in `",e,"` group"]}),Object(O.jsx)(g,{contacts:a})]})})})]})}));var le=C((function(){return Object(O.jsxs)("div",{style:{margin:"auto",width:"200px"},children:[Object(O.jsx)("h1",{style:{textAlign:"center"},children:"404"}),Object(O.jsx)("h2",{children:"Page Not Found"})]})}));var ue=function(){return Object(O.jsx)("p",{children:"Loading..."})},de=a(6),je=Object(de.a)();var be=function(){return Object(o.c)(ce)?Object(O.jsx)(j.b,{history:je,children:Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{exact:!0,path:b,children:Object(O.jsx)(oe,{className:"page page--gray page--index"})}),Object(O.jsx)(j.a,{children:Object(O.jsx)(le,{})})]})}):Object(O.jsx)(ue,{})},me=function(e){return function(e){return function(t){return t.type===M&&je.push(t.payload),e(t)}}},pe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),i(e),s(e)}))},he=function(){var e=u.a.create({baseURL:"https://heroku-dreamhead-api.herokuapp.com",timeout:5e3,headers:{"x-token":d}});return e.interceptors.response.use((function(e){return e}),(function(){})),e}(),Oe=Object(r.a)({reducer:ae,middleware:function(e){return e({thunk:{extraArgument:he}}).concat(me)}});Oe.dispatch((function(e,t,a){return a.get(h).then((function(t){var a=t.data;e(E(a))})).catch((function(e){}))})),s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(o.a,{store:Oe,children:Object(O.jsx)(be,{})})}),document.getElementById("root")),pe()}},[[67,1,2]]]);
//# sourceMappingURL=main.16e155fe.chunk.js.map